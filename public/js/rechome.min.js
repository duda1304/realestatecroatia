/* eslint-disable no-undef */
$("#zupanija").change(function () {
  var n = $(this).val();
  n != ".."
    ? $.ajax({ url: "/itl/ajax/getcitiesforcounty/" + n }).done(function (n) {
        $("#opcina").find("option").remove();
        $("#opcina").append(
          $("<option></option>").attr("value", "..").text("..")
        );
        n != "" &&
          $.each(n, function (n, t) {
            $("#opcina").append(
              $("<option></option>")
                .attr("value", t.name)
                .attr("data-id", t.id)
                .text(t.name)
            );
          });
        $("#mjesto").find("option").remove();
        $("#mjesto").append(
          $("<option></option>").attr("value", "..").text("..")
        );
        $("#opcina").change();
      })
    : ($("#opcina").find("option").remove(),
      $("#opcina").append(
        $("<option></option>").attr("value", "..").text("..")
      ),
      $("#mjesto").find("option").remove(),
      $("#mjesto").append(
        $("<option></option>").attr("value", "..").text("..")
      ));
});
$("#opcina").change(function () {
  var n = $("#opcina option:selected").attr("data-id");
  n != ".."
    ? $.ajax({ url: "/itl/ajax/getcityareasforcity/" + n }).done(function (n) {
        $("#mjesto").find("option").remove();
        $("#mjesto").append(
          $("<option></option>").attr("value", "..").text("..")
        );
        n != "" &&
          $.each(n, function (n, t) {
            $("#mjesto").append(
              $("<option></option>")
                .attr("value", t.name)
                .attr("data-id", t.id)
                .text(t.name)
            );
          });
        $("#mjesto").change();
      })
    : ($("#mjesto").find("option").remove(),
      $("#mjesto").append(
        $("<option></option>").attr("value", "..").text("..")
      ));
});
